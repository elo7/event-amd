define("event",[],function(){function a(e,n,t,v,r){v=v||"undefined";e._event=e._event||{},e._event[n]=e._event[n]||{},e._event[n][v]=e._event[n][v]||[],e._event[n][v].push({command:t,opts:r})}return{addEvent:function(e,n,t,v){var r,o;if("string"==typeof v?r=v:"object"==typeof v&&(r=v.named,o=v),e.addEventListener)"object"==typeof v&&function(){var e=!1;try{var n=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassive",null,n),window.removeEventListener("testPassive",null,n)}catch(e){}return e}()?(e.addEventListener(n,t,v),a(e,n,t,r,o)):(e.addEventListener(n,t),a(e,n,t,r));else{var i=function(){return t.apply(e,arguments)};e.attachEvent("on"+n,i),a(e,n,i,r)}},removeEvent:function(e,n,t){for(var v,r,o,i=function(e,n,t){if(t)return e._event&&e._event[n]&&e._event[n][t]||[];var v=[];if(e._event)for(key in e._event[n])v=v.concat(e._event[n][key]);return v}(e,n,t),a=0;a<i.length;a++)e.removeEventListener?i[a].opts?e.removeEventListener(n,i[a].command,i[a].opts):e.removeEventListener(n,i[a].command):e.detachEvent("on"+n,i[a].command);r=n,o=t,(v=e)._event&&(o&&v._event[r]?v._event[r][o]=[]:v._event[r]={})}}});